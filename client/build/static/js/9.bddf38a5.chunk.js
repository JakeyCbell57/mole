(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{158:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return v});var r=a(28),n=a(9),s=a(10),o=a(13),c=a(11),l=a(12),p=a(0),u=a.n(p),i=a(122),m=a(164),d=a(155),E=a(169),h=a(167),y=a(165),f=a(63),b={display:"flex",justifyContent:"flex-end"},g={maxWidth:"200px"},v=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).componentDidMount=function(){return a.getData()},a.updateInput=function(e){return a.setState(Object(r.a)({},e.target.name,e.target.value))},a.getData=function(){f.a.get("/processors").then(function(e){return e&&a.setState({processors:e})}).then(console.error),f.a.get("/processors/types").then(function(e){return e&&a.setState({processorTypes:e})}).then(console.error)},a.addProcessor=function(){var e=a.state,t=e.name,r=e.apiId,n=e.apiKey,s=e.processorType;return t?s?void f.a.post("/processors",{name:t,apiId:r,apiKey:n,processorType:s}).then(a.getData).catch(console.error):alert("Please select a processor type"):alert("Please enter a name")},a.renderProcessors=function(e){return e.map(a.renderProcessor)},a.renderProcessor=function(e){return u.a.createElement("tr",{key:e.id+e.name,className:"unread"},u.a.createElement("td",null,u.a.createElement("h6",{className:"mb-1"},e.name)),u.a.createElement("td",{style:g},u.a.createElement("h6",{className:"mb-1"},e.healthy?"yes":"no")),u.a.createElement("td",null,u.a.createElement("h6",{className:"mb-1"},e.type)),u.a.createElement("td",{style:b},u.a.createElement(i.a,{variant:e.enabled?"success":"warning",onClick:a.toggleEnabled(e.id,e.enabled)},e.enabled?"Enabled":"Disabled"),u.a.createElement(i.a,{variant:"danger",onClick:a.deleteProcessor(e.id,e.name)},"Delete")))},a.deleteProcessor=function(e,t){return function(){window.confirm("Are you sure you want to delete client "+t+"?")&&f.a.delete("/processors/".concat(e)).then(a.getData).catch(console.error)}},a.toggleEnabled=function(e,t){return function(){f.a.patch("/processors/".concat(e,"/enabled"),{enabled:!t}).then(a.getData).catch(console.error)}},a.updateProcessorSelect=function(e){var t=e.target.value;a.setState({processorType:t});var r=a.state.processorTypes;console.log(r);var n=r.find(function(e){return e.id===parseInt(t)});console.log(n),n?a.setState({currentParams:n.parameters}):a.setState({currentParams:[]})},a.renderProcessorTypes=function(e){return e.map(function(e){return u.a.createElement("option",{key:e.name+e.id,value:e.id},e.name)})},a.state={processors:[],processorTypes:[],name:"",apiId:"",apiKey:"",processorType:"",currentParams:[]},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.apiId,r=e.apiKey,n=e.processors,s=e.processorTypes,o=e.currentParams;return u.a.createElement("div",null,u.a.createElement(m.a,null,u.a.createElement(d.a,{xs:12,sm:12,md:6,lg:6,xl:6},u.a.createElement(E.a,{className:"Recent-Users"},u.a.createElement(E.a.Header,null,u.a.createElement(E.a.Title,{as:"h5"},"Add Processor")),u.a.createElement(E.a.Body,{className:"px-10 py-10"},u.a.createElement(h.a.Group,null,u.a.createElement(h.a.Control,{onChange:this.updateProcessorSelect,as:"select",className:"mb-3"},u.a.createElement("option",{defaultValue:!1},"Select processor type"),this.renderProcessorTypes(s))),u.a.createElement(h.a.Group,{controlId:"name"},u.a.createElement(h.a.Label,null,"Name"),u.a.createElement(h.a.Control,{onChange:this.updateInput,name:"name",type:"text",placeholder:"Enter a processor name",value:t})),o.includes("apiId")&&u.a.createElement(h.a.Group,{controlId:"apiId"},u.a.createElement(h.a.Label,null,"Api Id"),u.a.createElement(h.a.Control,{onChange:this.updateInput,name:"apiId",type:"text",placeholder:"Enter processor's api id",value:a})),o.includes("apiKey")&&u.a.createElement(h.a.Group,{controlId:"apiKey"},u.a.createElement(h.a.Label,null,"Api Key"),u.a.createElement(h.a.Control,{onChange:this.updateInput,name:"apiKey",type:"text",placeholder:"Enter processor's api key",value:r})),u.a.createElement(i.a,{variant:"primary",onClick:this.addProcessor},"Add Processor"))))),u.a.createElement(m.a,null,u.a.createElement(d.a,{md:12,lg:12,xl:12},u.a.createElement(E.a,{className:"Recent-Users"},u.a.createElement(E.a.Header,null,u.a.createElement(E.a.Title,{as:"h5"},"Current Processors")),u.a.createElement(E.a.Body,{className:"px-0 py-0"},u.a.createElement(y.a,{responsive:!0,hover:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Name"),u.a.createElement("th",null,"Connected"),u.a.createElement("th",null,"Type"),u.a.createElement("th",null))),u.a.createElement("tbody",null,this.renderProcessors(n))))))))}}]),t}(p.Component)},63:function(e,t,a){"use strict";var r=a(77),n=a.n(r).a.create({baseURL:"localhost"===window.location.hostname?"http://localhost:8000/api":"/api",withCredentials:!0});n.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e.data)}),t.a=n}}]);
//# sourceMappingURL=9.bddf38a5.chunk.js.map