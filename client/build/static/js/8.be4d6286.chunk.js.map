{"version":3,"sources":["Views/Clients.jsx","api.jsx"],"names":["rightAlign","display","justifyContent","ClientsView","props","_this","Object","_Users_rocky_Coding_Projects_react_dash_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_Users_rocky_Coding_Projects_react_dash_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_rocky_Coding_Projects_react_dash_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","componentDidMount","getData","updateInput","event","setState","_Users_rocky_Coding_Projects_react_dash_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","target","name","value","api","get","then","clients","console","error","addClient","state","alert","post","catch","renderClients","map","renderClient","client","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","key","userId","className","clientId","clientKey","style","react_bootstrap__WEBPACK_IMPORTED_MODULE_7__","variant","enabled","onClick","toggleEnabled","id","deleteClient","window","confirm","delete","concat","status","patch","_this$state","react_bootstrap__WEBPACK_IMPORTED_MODULE_8__","react_bootstrap__WEBPACK_IMPORTED_MODULE_9__","xs","sm","md","lg","xl","react_bootstrap__WEBPACK_IMPORTED_MODULE_10__","Header","Title","as","Body","react_bootstrap__WEBPACK_IMPORTED_MODULE_11__","Group","controlId","Label","Control","onChange","type","placeholder","react_bootstrap__WEBPACK_IMPORTED_MODULE_12__","responsive","hover","Component","axios__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","axios","n","Axios","create","baseURL","location","hostname","withCredentials","interceptors","response","use","data","Promise","reject"],"mappings":"wQAIMA,EAAa,CACjBC,QAAS,OACTC,eAAgB,YAGGC,cAEnB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAQRQ,kBAAoB,kBAAMP,EAAKQ,WATZR,EAWnBS,YAAc,SAAAC,GAAK,OAAIV,EAAKW,SAALV,OAAAW,EAAA,EAAAX,CAAA,GAAiBS,EAAMG,OAAOC,KAAOJ,EAAMG,OAAOE,SAXtDf,EAanBQ,QAAU,WACRQ,IAAIC,IAAI,YACLC,KAAK,SAAAC,GAAO,OAAIA,GAAWnB,EAAKW,SAAS,CAAEQ,cAC3CD,KAAKE,QAAQC,QAhBCrB,EAmBnBsB,UAAY,WAAM,IACRR,EAASd,EAAKuB,MAAdT,KAER,IAAIA,EACF,OAAOU,MAAM,uBAGfR,IAAIS,KAAK,WAAY,CAAEX,SACpBI,KAAKlB,EAAKQ,SACVkB,MAAMN,QAAQC,QA5BArB,EA+BnB2B,cAAgB,SAAAR,GAAO,OAAIA,EAAQS,IAAI5B,EAAK6B,eA/BzB7B,EAiCnB6B,aAAe,SAAAC,GAAM,OACnBC,EAAAC,EAAAC,cAAA,MAAIC,IAAKJ,EAAOK,OAAQC,UAAU,UAChCL,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIG,UAAU,QAAQN,EAAOhB,OAEjCiB,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIG,UAAU,QAAQN,EAAOO,WAEjCN,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIG,UAAU,QAAQN,EAAOQ,YAEjCP,EAAAC,EAAAC,cAAA,MAAIM,MAAO5C,GACToC,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAQC,QAASX,EAAOY,QAAU,UAAY,UAAWC,QAAS3C,EAAK4C,cAAcd,EAAOe,GAAIf,EAAOY,UAAWZ,EAAOY,QAAU,UAAY,YAC/IX,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAQC,QAAQ,SAASE,QAAS3C,EAAK8C,aAAahB,EAAOe,GAAIf,EAAOhB,OAAtE,aA9Cad,EAmDnB8C,aAAe,SAACD,EAAI/B,GAAL,OAAc,WACTiC,OAAOC,QAAQ,0CAA4ClC,EAAO,MAGlFE,IAAIiC,OAAJ,YAAAC,OAAuBL,IACpB3B,KAAKlB,EAAKQ,SACVkB,MAAMN,QAAQC,SAzDFrB,EA6DnB4C,cAAgB,SAACC,EAAIM,GAAL,OAAgB,WAC9BnC,IAAIoC,MAAJ,YAAAF,OAAsBL,EAAtB,YAAoC,CAAEH,SAAUS,IAC7CjC,KAAKlB,EAAKQ,SACVkB,MAAMN,QAAQC,SA7DjBrB,EAAKuB,MAAQ,CACXJ,QAAS,GACTL,KAAM,IALSd,wEAmEV,IAAAqD,EACmBlD,KAAKoB,MAAvBT,EADDuC,EACCvC,KAAMK,EADPkC,EACOlC,QAEd,OACEY,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACqB,EAAA,EAAD,KACEvB,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CAAKC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrC7B,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAMzB,UAAU,gBACZL,EAAAC,EAAAC,cAAC4B,EAAA,EAAKC,OAAN,KACE/B,EAAAC,EAAAC,cAAC4B,EAAA,EAAKE,MAAN,CAAYC,GAAG,MAAf,eAEFjC,EAAAC,EAAAC,cAAC4B,EAAA,EAAKI,KAAN,CAAW7B,UAAU,eACjBL,EAAAC,EAAAC,cAACiC,EAAA,EAAKC,MAAN,CAAYC,UAAU,kBAClBrC,EAAAC,EAAAC,cAACiC,EAAA,EAAKG,MAAN,aACAtC,EAAAC,EAAAC,cAACiC,EAAA,EAAKI,QAAN,CAAcC,SAAUpE,KAAKM,YAAaK,KAAK,OAAO0D,KAAK,OAAOC,YAAY,oBAAoB1D,MAAOD,KAE3GiB,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAQC,QAAQ,UAAUE,QAASxC,KAAKmB,WAAxC,kBAOdS,EAAAC,EAAAC,cAACqB,EAAA,EAAD,KACEvB,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CAAKG,GAAI,GAAIC,GAAI,GAAIC,GAAI,IACvB7B,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAMzB,UAAU,gBACZL,EAAAC,EAAAC,cAAC4B,EAAA,EAAKC,OAAN,KACI/B,EAAAC,EAAAC,cAAC4B,EAAA,EAAKE,MAAN,CAAYC,GAAG,MAAf,oBAEJjC,EAAAC,EAAAC,cAAC4B,EAAA,EAAKI,KAAN,CAAW7B,UAAU,aACjBL,EAAAC,EAAAC,cAACyC,EAAA,EAAD,CAAOC,YAAU,EAACC,OAAK,GACrB7C,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,aAGFF,EAAAC,EAAAC,cAAA,aACI9B,KAAKwB,cAAcR,iBA7GN0D,8CCTzC,IAAAC,EAAAC,EAAA,IAEMC,EAFND,EAAAE,EAAAH,GAEcI,EAAMC,OAAO,CACzBC,QAAsC,cAA7BrC,OAAOsC,SAASC,SAA2B,4BAA8B,OAClFC,iBAAiB,IAGnBP,EAAMQ,aAAaC,SAASC,IAC1B,SAAAD,GAAQ,OAAIA,EAASE,MACrB,SAAAtE,GAAK,OAAIuE,QAAQC,OAAOxE,EAAMsE,QAGjBX","file":"static/js/8.be4d6286.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {Row, Col, Card, Table, Form, Button} from 'react-bootstrap';\nimport api from '../api';\n\nconst rightAlign = {\n  display: 'flex',\n  justifyContent: 'flex-end'\n}\n\nexport default class ClientsView extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      clients: [],\n      name: ''\n    }\n  }\n\n  componentDidMount = () => this.getData();\n\n  updateInput = event => this.setState({ [event.target.name]: event.target.value })\n\n  getData = () => {\n    api.get('/clients')\n      .then(clients => clients && this.setState({ clients }))\n      .then(console.error)\n  }\n\n  addClient = () => {\n    const { name } = this.state;\n\n    if(!name) {\n      return alert('Please enter a name');\n    }\n\n    api.post('/clients', { name })\n      .then(this.getData)\n      .catch(console.error)\n  }\n\n  renderClients = clients => clients.map(this.renderClient)\n\n  renderClient = client => (\n    <tr key={client.userId} className=\"unread\">\n      <td>\n          <h6 className=\"mb-1\">{client.name}</h6>\n      </td>\n      <td>\n          <h6 className=\"mb-1\">{client.clientId}</h6>\n      </td>\n      <td>\n          <h6 className=\"mb-1\">{client.clientKey}</h6>\n      </td>\n      <td style={rightAlign}>\n        <Button variant={client.enabled ? 'success' : 'warning'} onClick={this.toggleEnabled(client.id, client.enabled)}>{client.enabled ? 'Enabled' : 'Disabled'}</Button>\n        <Button variant=\"danger\" onClick={this.deleteClient(client.id, client.name)}>Delete</Button>\n      </td>\n    </tr>\n  )\n\n  deleteClient = (id, name) => () => {\n    const confirmed = window.confirm('Are you sure you want to delete client ' + name + '?')\n\n    if(confirmed) {\n      api.delete(`/clients/${id}`)\n        .then(this.getData)\n        .catch(console.error)\n    }\n  }\n\n  toggleEnabled = (id, status) => () => {\n    api.patch(`/clients/${id}/enabled`, { enabled: !status })\n      .then(this.getData)\n      .catch(console.error)\n  }\n\n  render() {\n    const { name, clients } = this.state;\n\n    return (\n      <div>\n        <Row>\n          <Col xs={12} sm={12} md={6} lg={6} xl={6}>\n            <Card className='Recent-Users'>\n                <Card.Header>\n                  <Card.Title as='h5'>Add Client</Card.Title>\n                </Card.Header>\n                <Card.Body className='px-10 py-10'>\n                    <Form.Group controlId=\"formBasicEmail\">\n                        <Form.Label>Name</Form.Label>\n                        <Form.Control onChange={this.updateInput} name='name' type=\"text\" placeholder=\"Enter client name\" value={name}/>\n                    </Form.Group>\n                      <Button variant=\"primary\" onClick={this.addClient}>\n                        Add Client\n                    </Button>\n                </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={12} lg={12} xl={12}>\n            <Card className='Recent-Users'>\n                <Card.Header>\n                    <Card.Title as='h5'>Current Clients</Card.Title>\n                </Card.Header>\n                <Card.Body className='px-0 py-0'>\n                    <Table responsive hover>\n                      <thead>\n                        <tr>\n                          <th>Name</th>\n                          <th>Client Id</th>\n                          <th>Client Key</th>\n                          <th></th>\n                        </tr>\n                      </thead>\n                        <tbody>\n                          { this.renderClients(clients) }\n                        </tbody>\n                    </Table>\n                </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}","import Axios from 'axios';\n\nconst axios = Axios.create({\n  baseURL: window.location.hostname === 'localhost' ? 'http://localhost:8000/api' : '/api',\n  withCredentials: true\n})\n\naxios.interceptors.response.use(\n  response => response.data, \n  error => Promise.reject(error.data)\n);\n\nexport default axios;\n"],"sourceRoot":""}